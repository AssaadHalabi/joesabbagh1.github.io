---
import { Button, Card } from "@eliancodes/brutal-ui"
---

<footer class="md:px-30 border-t-4 border-black bg-white p-6 pt-10">
  <div class="justify-center md:grid md:grid-cols-2">
    <div class="hidden gap-10 md:flex md:flex-col">
      <h1 class="text-6xl">Catch me on</h1>
      <div class="flex items-center">
        <a
          href="https://github.com/joesabbagh1"
          class="hover:text-green flex gap-6 transition-all duration-150 ease-in-out hover:underline"
          target="_blank"
        >
          <div class:list={["i-uil-github", "w-10 h-10"]}></div>
          <h2 class="text-4xl">Github</h2>
        </a>
      </div>
      <div class="flex items-center">
        <a
          href="https://www.linkedin.com/in/joe-sabbagh-37912a228/"
          class="hover:text-green flex gap-6 transition-all duration-150 ease-in-out hover:underline"
          target="_blank"
        >
          <div class:list={["i-uil-linkedin", "w-10 h-10"]}></div>
          <h2 class="text-4xl">LinkedIn</h2>
        </a>
      </div>
      <div class="flex items-center">
        <a
          href="mailto:joe.sabbagh2001@gmail.com"
          class="hover:text-green flex gap-6 transition-all duration-150 ease-in-out hover:underline"
          target="_blank"
        >
          <div class:list={["i-uil-mailbox", "w-10 h-10"]}></div>
          <h2 class="text-4xl">Email</h2>
        </a>
      </div>
    </div>
    <div class="flex flex-col gap-4 md:gap-10">
      <h1 class="text-4xl font-semibold md:text-6xl">Send me a message</h1>
      <Card color="#f472b6">
        <form id="contact-form" class="flex flex-col gap-3">
          <input type="hidden" name="contact_number" />
          <div class="flex flex-col gap-6">
            <div class="flex-justify-between poppins flex gap-6">
              <h2 class="text-2xl font-medium md:text-3xl">Name</h2>
              <input
                type="text"
                name="user_name"
                class="border-3 rd-2 w-65 md:w-md sm:w-xs border-black p-1 outline-0"
              />
            </div>
            <div class="flex-justify-between flex gap-6">
              <h2 class="text-2xl font-medium md:text-3xl">Email</h2>
              <input
                type="email"
                name="user_email"
                class="border-3 rd-2 w-65 md:w-md sm:w-xs border-black p-1 outline-0"
              />
            </div>
            <div class="flex-justify-between flex gap-6">
              <h2 class="text-2xl font-medium md:text-3xl">Message</h2>
              <textarea
                name="message"
                class="border-3 rd-2 w-65 md:w-md border-black p-1 outline-0"
              ></textarea>
            </div>
          </div>
          <div class="flex items-center justify-between gap-6">
            <Button>
              <input type="submit" value="Send Email" />
            </Button>
            <div class="w-65 md:w-md flex justify-start">
              <h2 class="poppins hidden text-xl font-semibold" id="sent">
                Email Sent!
              </h2>
            </div>
          </div>
        </form>
      </Card>
    </div>
  </div>
</footer>

<script
  type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"
></script>
<script type="text/javascript">
  ;(function () {
    emailjs.init("Vb33xvN_VKvox76Hz")
  })()
</script>
<script type="text/javascript">
  window.onload = function () {
    document
      .getElementById("contact-form")
      .addEventListener("submit", function (event) {
        event.preventDefault()

        const user_name = event.target.querySelector(
          "input[name=user_name]"
        ).value
        const user_email = event.target.querySelector(
          "input[name=user_email]"
        ).value
        const message = event.target.querySelector(
          "textarea[name=message]"
        ).value

        if (!user_name || !user_email || !message) {
          return false
        }

        this.contact_number.value = (Math.random() * 100000) | 0

        document.getElementById("sent").innerHTML = "Sending"
        document.getElementById("sent").style.display = "block"

        emailjs.sendForm("service_pnqgj0n", "contact_form", this).then(
          function () {
            document.getElementById("sent").innerHTML = "Sent!"
          },
          function (error) {
            console.log("FAILED...", error)
          }
        )
      })
  }
</script>
